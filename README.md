# DocBot - Tarantool Documentation pipeline bot

[![Build Status](https://travis-ci.org/tarantool/docbot.svg?branch=master)](https://travis-ci.org/tarantool/docbot)

TarantoolBot automates a process of creating a documentation request after external behaviour is changed.
Documentation bot has its own account on mail.ru and on github.com. Its name is TarantoolBot.
It uses GitHub webhooks to track all new comments on issues, labeled with `doc update` label.
In a comment a one can ask the bot to create a new issue on tarantool/doc, when the issue
will be closed, using the special template. The one must mention the bot, write a title and
description:
```
@TarantoolBot document
Title: one-line title
Description that can be multiline,
contain markup and links.
```
When the bot sees its mentioning, it checks the comment syntax, and responses with either error
description or with `@<CommentAuthor>: Accept`. When the issue is closed, the bot finds
this comment, extracts the title and description, and creates a new issue on tarantool/doc
with notifying the comment author. Thanks to the bot, now no one must care about creating a doc
issue after push into trunk, changing some external behaviour.

## Deployment

The TarantoolBot deployment is quite simple.
1. Rename `credentials_template.json` to `credentials.json`;
2. Set missed token. A token is generated by GitHub for its API access. A token both autenticates and authorizes the TarantoolBot;
3. Install `bottle` and `requests` via `pip`;
4. Run the bot with `python tarantoolbot.py`.

To check that it works try to get `localhost:8888` - it will print the 'hello' message, if all is ok. After this set a GitHub hook in the repository, that you want the bot tracks. The hook must send notifications about new comments in all issues, about closed issues.
